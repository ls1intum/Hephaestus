@if (isCompact()) {
  <hlm-tooltip>
    <app-workspace-thumb
      [iconUrl]="iconUrl()"
      [isSelected]="isSelected()"
      (select)="select.emit()"
      hlmTooltipTrigger
      position="right"
      [aria-describedby]="title()"
      [brnCtxMenuTriggerFor]="menu"
    />
    <span *brnTooltipContent class="flex items-center"> {{ title() }} </span>
  </hlm-tooltip>
} @else {
  <div [class]="computedClass()">
    <app-workspace-thumb [iconUrl]="iconUrl()" [isSelected]="isSelected()" [hoverRingEnabled]="false" variant="base" />
    <span class="text-base font-semibold flex-1">
      {{ title() }}
    </span>
    @if (isSelected()) {
      <button [brnMenuTriggerFor]="menu">
        <ng-icon name="lucideEllipsis" class="text-xl text-muted-foreground block" />
      </button>
    }
  </div>
}

<ng-template #menu>
  <hlm-menu>
    <hlm-menu-group>
      <button hlmMenuItem class="text-destructive hover:text-destructive" (click)="signOut.emit()">
        <ng-icon name="lucideLogOut" hlmMenuIcon class="text-base" />
        Sign Out
      </button>
    </hlm-menu-group>
  </hlm-menu>
</ng-template>
