<div class="flex items-start space-x-3">
  @if (isClosed()) {
    <div hlmAlert class="flex flex-row space-x-3">
      <ng-icon name="lucideCircleAlert" class="text-base" />
      <div>
        <h4 hlmAlertTitle>Please continue messaging in your most recent session.</h4>
        <p hlmAlertDesc>To stay organized, starting a new session automatically closes the previous one. <br /></p>
      </div>
    </div>
  } @else {
    <textarea
      hlmInput
      [(ngModel)]="message"
      placeholder="Message AI Mentor"
      style="resize: none"
      (keydown.enter)="onSendMessage()"
      class="w-full min-h-20"
      [disabled]="isSending() || isClosed()"
    ></textarea>
  }
  <button hlmBtn [disabled]="isSending() || isClosed()" aria-describedby="Send Message" (click)="onSendMessage()" variant="default" size="icon">
    @if (isSending()) {
      <hlm-spinner size="sm" />
    } @else {
      <ng-icon name="lucideSend" class="text-xl" />
    }
  </button>
</div>
