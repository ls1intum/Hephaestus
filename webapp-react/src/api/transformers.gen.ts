// This file is auto-generated by @hey-api/openapi-ts

import type { GetAllSessionsResponse, CreateNewSessionResponse, GetMessagesResponse, CreateMessageResponse, GetLeaderboardResponse, GetUserProfileResponse, GetTeamLeaderboardResponse, GetAllTimeTeamLeaderboardResponse, GetLastSessionResponse, GetAllResponse, GetByIdResponse, GetActivityByUserResponse } from './types.gen';

const sessionSchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    return data;
};

export const getAllSessionsResponseTransformer = async (data: any): Promise<GetAllSessionsResponse> => {
    data = data.map((item: any) => {
        return sessionSchemaResponseTransformer(item);
    });
    return data;
};

export const createNewSessionResponseTransformer = async (data: any): Promise<CreateNewSessionResponse> => {
    data = sessionSchemaResponseTransformer(data);
    return data;
};

const messageSchemaResponseTransformer = (data: any) => {
    data.sentAt = new Date(data.sentAt);
    return data;
};

export const getMessagesResponseTransformer = async (data: any): Promise<GetMessagesResponse> => {
    data = data.map((item: any) => {
        return messageSchemaResponseTransformer(item);
    });
    return data;
};

export const createMessageResponseTransformer = async (data: any): Promise<CreateMessageResponse> => {
    data = messageSchemaResponseTransformer(data);
    return data;
};

const pullRequestInfoSchemaResponseTransformer = (data: any) => {
    if (data.mergedAt) {
        data.mergedAt = new Date(data.mergedAt);
    }
    if (data.closedAt) {
        data.closedAt = new Date(data.closedAt);
    }
    if (data.createdAt) {
        data.createdAt = new Date(data.createdAt);
    }
    if (data.updatedAt) {
        data.updatedAt = new Date(data.updatedAt);
    }
    return data;
};

const leaderboardEntrySchemaResponseTransformer = (data: any) => {
    data.reviewedPullRequests = data.reviewedPullRequests.map((item: any) => {
        return pullRequestInfoSchemaResponseTransformer(item);
    });
    return data;
};

export const getLeaderboardResponseTransformer = async (data: any): Promise<GetLeaderboardResponse> => {
    data = data.map((item: any) => {
        return leaderboardEntrySchemaResponseTransformer(item);
    });
    return data;
};

const pullRequestReviewInfoSchemaResponseTransformer = (data: any) => {
    if (data.submittedAt) {
        data.submittedAt = new Date(data.submittedAt);
    }
    return data;
};

const userProfileSchemaResponseTransformer = (data: any) => {
    data.firstContribution = new Date(data.firstContribution);
    if (data.reviewActivity) {
        data.reviewActivity = data.reviewActivity.map((item: any) => {
            return pullRequestReviewInfoSchemaResponseTransformer(item);
        });
    }
    if (data.openPullRequests) {
        data.openPullRequests = data.openPullRequests.map((item: any) => {
            return pullRequestInfoSchemaResponseTransformer(item);
        });
    }
    return data;
};

export const getUserProfileResponseTransformer = async (data: any): Promise<GetUserProfileResponse> => {
    data = userProfileSchemaResponseTransformer(data);
    return data;
};

const teamLeaderboardEntrySchemaResponseTransformer = (data: any) => {
    data.reviewedPullRequests = data.reviewedPullRequests.map((item: any) => {
        return pullRequestInfoSchemaResponseTransformer(item);
    });
    return data;
};

export const getTeamLeaderboardResponseTransformer = async (data: any): Promise<GetTeamLeaderboardResponse> => {
    data = data.map((item: any) => {
        return teamLeaderboardEntrySchemaResponseTransformer(item);
    });
    return data;
};

export const getAllTimeTeamLeaderboardResponseTransformer = async (data: any): Promise<GetAllTimeTeamLeaderboardResponse> => {
    data = data.map((item: any) => {
        return teamLeaderboardEntrySchemaResponseTransformer(item);
    });
    return data;
};

export const getLastSessionResponseTransformer = async (data: any): Promise<GetLastSessionResponse> => {
    data = sessionSchemaResponseTransformer(data);
    return data;
};

const teamV2InfoSchemaResponseTransformer = (data: any) => {
    if (data.lastSyncedAt) {
        data.lastSyncedAt = new Date(data.lastSyncedAt);
    }
    return data;
};

export const getAllResponseTransformer = async (data: any): Promise<GetAllResponse> => {
    data = data.map((item: any) => {
        return teamV2InfoSchemaResponseTransformer(item);
    });
    return data;
};

export const getByIdResponseTransformer = async (data: any): Promise<GetByIdResponse> => {
    data = teamV2InfoSchemaResponseTransformer(data);
    return data;
};

const pullRequestWithBadPracticesSchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    data.updatedAt = new Date(data.updatedAt);
    return data;
};

const activitySchemaResponseTransformer = (data: any) => {
    data.pullRequests = data.pullRequests.map((item: any) => {
        return pullRequestWithBadPracticesSchemaResponseTransformer(item);
    });
    return data;
};

export const getActivityByUserResponseTransformer = async (data: any): Promise<GetActivityByUserResponse> => {
    data = activitySchemaResponseTransformer(data);
    return data;
};