# GraphQL query for paginating field values for a specific project item
# Used when an item has more field values than the inline page size (20)
#
# This query uses the node(id:) pattern to fetch a single item by its GraphQL node ID,
# then paginates through its field values starting from a cursor.
#
# =============================================================================
# COST ANALYSIS
# =============================================================================
#
# This is a follow-up pagination query for items with >20 field values.
# Since it fetches a single item, the cost is much lower than the main query:
#
#   Cost = fieldValues(50) * nested collections
#
# Using larger page sizes (50 for nested) is acceptable here because:
#   - Single item context (no multiplicative cost from parent items)
#   - Follow-up queries are rare (most items have <20 field values)
#
# =============================================================================
# FRAGMENTS
# =============================================================================
#
# Uses the FieldValueFields fragment for consistent field selection.
# See ProjectFragments.graphql for canonical fragment definitions.

query GetProjectItemFieldValues($itemId: ID!, $first: Int!, $after: String) {
    rateLimit {
        cost
        limit
        remaining
        resetAt
    }
    node(id: $itemId) {
        ... on ProjectV2Item {
            id
            fieldValues(first: $first, after: $after) {
                pageInfo {
                    hasNextPage
                    endCursor
                }
                totalCount
                nodes {
                    ...FieldValueFields
                }
            }
        }
    }
}
# Fragments (FieldValueFields, RequestedReviewerFields) are resolved from
# ProjectFragments.graphql via ResourceDocumentSource.
