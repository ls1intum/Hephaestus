# ArchUnit Configuration
# See: https://www.archunit.org/userguide/html/000_Index.html#_configuration

# ========================================================================
# General Configuration
# ========================================================================

# Don't fail when no classes match the rule predicate
# This can happen when tests run in isolation or classes aren't fully loaded
archRule.failOnEmptyShould=false

# ========================================================================
# FreezingArchRule Configuration (Technical Debt Ratcheting)
# ========================================================================
# 
# FreezingArchRule tracks existing violations and only fails on NEW violations.
# This enables gradual improvement without blocking development.
#
# The violation store MUST be committed to version control to ensure:
# 1. CI builds see the same baseline as developers
# 2. Violations can only decrease, never increase (ratcheting)
# 3. Team visibility into technical debt

# Store location (relative to classpath root)
freeze.store.default.path=archunit_store

# Allow creating the store (first run) - set to false in CI after initial setup
freeze.store.default.allowStoreCreation=true

# Allow updates when violations are fixed (always true - we want violations to decrease)
freeze.store.default.allowStoreUpdate=true

# ========================================================================
# Cycle Detection Performance
# ========================================================================

# Limit number of cycles to detect (for performance)
cycles.maxNumberToDetect=50

# Limit dependencies reported per cycle edge
cycles.maxNumberOfDependenciesPerEdge=10
