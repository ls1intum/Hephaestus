# Minimal test configuration for Spring Boot tests
spring:
  # Database configuration for tests (overridden by Testcontainers)
  datasource:
    # These values will be overridden by @DynamicPropertySource in test classes
    url: jdbc:postgresql://localhost:5432/test
    driver-class-name: org.postgresql.Driver
    username: test
    password: test
    # HikariCP configuration optimized for tests
    hikari:
      maximum-pool-size: 5
      minimum-idle: 1
      max-lifetime: 300000  # 5 minutes (shorter for tests)
      connection-timeout: 10000  # 10 seconds
      idle-timeout: 60000  # 1 minute (shorter for tests)
      validation-timeout: 5000  # 5 seconds
      leak-detection-threshold: 10000  # 10 seconds for leak detection
      connection-test-query: SELECT 1
  
  # JPA configuration for tests
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
  
  # Test-specific configurations for faster shutdown
  task:
    execution:
      shutdown:
        await-termination: true
        await-termination-period: 5s
  
  # Disable liquibase for tests (use JPA auto DDL instead)
  liquibase:
    enabled: false
  
  # Security configuration for tests (minimal config)
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8081/realms/test

# GitHub configuration for tests (matches actual property)
github:
  auth-token: test-token-not-real
  app:
    id: 1
    privateKeyLocation: ""
    privateKey: |
      -----BEGIN PRIVATE KEY-----
      MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC6/rUt7fKIKHIt
      OPeiUYu23oLOMSRGuYIVdt+mQbKfmll6E95zmQqHyT0INxe2QL2E6Dkpk7lyylk6
      N47fCDjP+423RS0z5efqzMrZBOPpln1xOqUxfOFR+yuXDAeX0IX0zCCe8BGnEGwv
      o4ZSCPFRqY+zE+wbZPX+uREP/ryuc/qy7pEM8p8Vbc3ApFqr45QV7x1nt1mGB7FY
      sajk1FlbH/5+jpm8yei9BuqRbT5PsnDeoNf7DY4PW30CnTSYTEIVCCc6MG+fmfLO
      wZmiyv/4eO78+IVqGnInI3JaoDikncc8T0hzNrd7B86cDdUAHUldvc1i/WO+H14h
      jveZAoz/AgMBAAECggEAAh2k39RdnMFzmc65icaRw6mamWwgQWtF7TI/VbZQMFtR
      u/56Oa3RJ9GhjtJwOgvBnXlup1hhBakDzIJd40avAZ0KClLjuIMTGoAFgSZzFOzM
      hRepPz2ABdUck+KdKPrr5eXrPzzeJkPWcDPRzIWO2S72b+EmKTqF8xieK6wYItfV
      meFBonOUsEiOI43bqLzsf7hG1bSx7n8Zui7TmDjxrC3uAqEAC9vLunNgps619gl9
      svzDPyOye79+rUiz8yAMIjjCH5a0cjvOsBq2LFJEdNAVvZBl66Tiazf/v/yVO/hr
      US99H9B+AfGzLp4IMixKXw8dyuoU3ZL4Di0I32FbMQKBgQDujglmE/0/cAv/tEbM
      XqZIvyVsbTIA/SvE0YoaQfwIaGzN0rIiGjuXvysEvqUq++vjmxDRNMaHzQArUJ6b
      /s2cQeRy6dKj34/3xWA9QYO09u6d37d6BdGoub6gZrIsff0uLCA4xfm8HaGJ0epA
      OZGMAqabK7jWqtVtOTspnWdTqQKBgQDIq2xX+fFd2gat53MpqCfyQSOJNsyicJzg
      aoQtxUBKNTySjAb/LN0gIw+xbCtCdS0Jy8rRqnK+60BEeACzrdF7lzjCZQZBohPV
      1AfleKAGZHsM/rAWZsqSYowkJUxJx3acVGwhEFBOpRnt3bhe9sGXg1BwyLjselb7
      B8Ifot9EZwKBgBtegmeKvZBsq4O/zCugZFWOUJ3a/VSttzrSi5Sto1vXlzwaA0P0
      XIfxb98QfGStGIg5fzlxY6Gq/Gz7x+a/2hkmWi5w8zDH8n2L0JnWjWTSu9ezFhrS
      1hYUkXFXtvNx1P1aJKw+0oMppyHnyodp03AL0c+VuZQvb2MjoM0KeRNZAoGATxxt
      6T0rb/Gdgn/lwf1+Sh5uERFemYfGAR9dHuJN1zOnvqqfs4gPYTURYcQgReIGMH98
      ZS5KcIQ0YQniVPPoy02x3cmQLt3j7f/aYRguFncUn+nkp+A8anuZfkKKEegmFbme
      q2ZQEsE6OLGZly624bGuS9iGNwyAMBU97dT7Km8CgYB8GUoNHTiq0Yd3tPkT6GRd
      QpQtCVAPH5jZXp7Qoh9S9oucvaJsDBgKILevskzJnyyiheQKBQwHQ+rPuA2IF9Bg
      vRoVteI+FzizS6XBoQljwdotJGqFllYVNKiVCDUzV4/SnOc1fjCL3++bJu9B3VAg
      G89jtjX/fwyfD4VVyoMHoA==
      -----END PRIVATE KEY-----

# NATS configuration for tests (matches actual properties)
nats:
  enabled: false
  server: nats://localhost:4222
  timeframe: 1
  durable-consumer-name: test-consumer

# Intelligence service configuration for tests (stub)
hephaestus:
  intelligence-service:
    url: http://localhost:8080

# Logging configuration for tests
logging:
  level:
    root: WARN
    de:
      tum:
        in:
          www1:
            hephaestus: INFO
