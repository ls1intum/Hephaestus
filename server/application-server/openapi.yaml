openapi: 3.1.0
info:
  title: Hephaestus API
  description: API documentation for the Hephaestus application server.
  contact:
    name: Felix T.J. Dietrich
    email: felixtj.dietrich@tum.de
  license:
    name: MIT License
    url: https://github.com/ls1intum/Hephaestus/blob/develop/LICENSE
  version: 0.9.0-rc.5
servers:
- url: /
  description: Default Server URL
tags:
- name: chat-controller
  description: |-
    REST controller for the chat functionality.
     Handles streaming chat responses, message persistence, and thread management.
paths:
  /workspace/user/{login}/team/{teamId}:
    put:
      tags:
      - workspace
      operationId: addTeamToUser
      parameters:
      - name: login
        in: path
        required: true
        schema:
          type: string
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserInfo"
    delete:
      tags:
      - workspace
      operationId: removeUserFromTeam
      parameters:
      - name: login
        in: path
        required: true
        schema:
          type: string
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserInfo"
  /workspace/teams:
    put:
      tags:
      - workspace
      operationId: createTeam
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TeamInfo"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /workspace/teams/autoassign:
    put:
      tags:
      - workspace
      operationId: automaticallyAssignTeams
      responses:
        "200":
          description: OK
  /workspace/league/reset:
    put:
      tags:
      - workspace
      operationId: resetAndRecalculateLeagues
      responses:
        "200":
          description: OK
  /workspace/team/{teamId}/repository/{repositoryOwner}/{repositoryName}:
    post:
      tags:
      - workspace
      operationId: addRepositoryToTeam
      parameters:
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: repositoryOwner
        in: path
        required: true
        schema:
          type: string
      - name: repositoryName
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
    delete:
      tags:
      - workspace
      operationId: removeRepositoryFromTeam
      parameters:
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: repositoryOwner
        in: path
        required: true
        schema:
          type: string
      - name: repositoryName
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /workspace/team/{teamId}/label/{repositoryId}/{label}:
    post:
      tags:
      - workspace
      operationId: addLabelToTeam
      parameters:
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: repositoryId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: label
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /workspace/repositories/{owner}/{name}:
    post:
      tags:
      - workspace
      operationId: addRepositoryToMonitor
      parameters:
      - name: owner
        in: path
        required: true
        schema:
          type: string
      - name: name
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
    delete:
      tags:
      - workspace
      operationId: removeRepositoryToMonitor
      parameters:
      - name: owner
        in: path
        required: true
        schema:
          type: string
      - name: name
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
  /user/settings:
    get:
      tags:
      - user
      operationId: getUserSettings
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserSettings"
    post:
      tags:
      - user
      operationId: updateUserSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserSettings"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserSettings"
  /team/{id}/hide:
    post:
      tags:
      - team
      operationId: hideTeam
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              type: boolean
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /leaderboard:
    get:
      tags:
      - leaderboard
      operationId: getLeaderboard
      parameters:
      - name: after
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: before
        in: query
        required: true
        schema:
          type: string
          format: date-time
      - name: team
        in: query
        required: false
        schema:
          type: string
      - name: sort
        in: query
        required: false
        schema:
          type: string
          enum:
          - SCORE
          - LEAGUE_POINTS
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LeaderboardEntry"
    post:
      tags:
      - leaderboard
      operationId: getUserLeagueStats
      parameters:
      - name: login
        in: query
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LeaderboardEntry"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LeagueChange"
  /activity/user/{login}/badpractices:
    post:
      tags:
      - activity
      operationId: detectBadPracticesByUser
      parameters:
      - name: login
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
  /activity/pullrequest/{pullRequestId}/badpractices:
    post:
      tags:
      - activity
      operationId: detectBadPracticesForPullRequest
      parameters:
      - name: pullRequestId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
  /activity/badpractice/{badPracticeId}/resolve:
    post:
      tags:
      - activity
      operationId: resolveBadPractice
      parameters:
      - name: badPracticeId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: state
        in: query
        required: true
        schema:
          type: string
          enum:
          - GOOD_PRACTICE
          - FIXED
          - CRITICAL_ISSUE
          - NORMAL_ISSUE
          - MINOR_ISSUE
          - WONT_FIX
          - WRONG
      responses:
        "200":
          description: OK
  /activity/badpractice/{badPracticeId}/feedback:
    post:
      tags:
      - activity
      operationId: provideFeedbackForBadPractice
      parameters:
      - name: badPracticeId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BadPracticeFeedback"
        required: true
      responses:
        "200":
          description: OK
  /workspace/users:
    get:
      tags:
      - workspace
      operationId: getUsersWithTeams
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserTeams"
  /workspace/repositories:
    get:
      tags:
      - workspace
      operationId: getRepositoriesToMonitor
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
  /user/{login}/profile:
    get:
      tags:
      - user
      operationId: getUserProfile
      parameters:
      - name: login
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfile"
  /team/all:
    get:
      tags:
      - team
      operationId: getTeams
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TeamInfo"
  /meta:
    get:
      tags:
      - meta
      operationId: getMetaData
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MetaData"
  /meta/contributors:
    get:
      tags:
      - meta
      operationId: getContributors
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Contributor"
  /mentor/threads:
    get:
      tags:
      - chat
      summary: Get user's chat threads
      description: Retrieve all chat threads for the authenticated user
      operationId: getThreads
      responses:
        "200":
          description: Successfully retrieved threads
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatThreadSummary"
        "401":
          description: User not authenticated
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatThreadSummary"
  /mentor/threads/grouped:
    get:
      tags:
      - chat
      summary: Get user's grouped chat threads
      description: Retrieve all chat threads for the authenticated user grouped by
        time periods
      operationId: getGroupedThreads
      responses:
        "200":
          description: Successfully retrieved grouped threads
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatThreadGroup"
        "401":
          description: User not authenticated
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatThreadGroup"
  /mentor/thread/{threadId}:
    get:
      tags:
      - chat
      summary: Get chat thread detail
      description: Retrieve a specific chat thread with all messages
      operationId: getThread
      parameters:
      - name: threadId
        in: path
        description: Thread ID
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Successfully retrieved thread
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatThreadDetail"
        "401":
          description: User not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatThreadDetail"
        "404":
          description: Thread not found or not owned by user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatThreadDetail"
  /activity/{login}:
    get:
      tags:
      - activity
      operationId: getActivityByUser
      parameters:
      - name: login
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Activity"
  /workspace/team/{teamId}:
    delete:
      tags:
      - workspace
      operationId: deleteTeam
      parameters:
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /workspace/team/{teamId}/label/{labelId}:
    delete:
      tags:
      - workspace
      operationId: removeLabelFromTeam
      parameters:
      - name: teamId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: labelId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
  /user:
    delete:
      tags:
      - user
      operationId: deleteUser
      responses:
        "200":
          description: OK
components:
  schemas:
    UIMessage:
      type: object
      description: Message model that matches the TypeScript interface.
      properties:
        id:
          type: string
          description: A unique identifier for the message
          title: Id
        metadata:
          anyOf:
          - type: object
          - type: "null"
          title: Metadata
        parts:
          type: array
          items:
            anyOf:
            - $ref: "#/components/schemas/TextUIPart"
            - $ref: "#/components/schemas/ReasoningUIPart"
            - $ref: "#/components/schemas/ToolInputStreamingPart"
            - $ref: "#/components/schemas/ToolInputAvailablePart"
            - $ref: "#/components/schemas/ToolOutputAvailablePart"
            - $ref: "#/components/schemas/ToolOutputErrorPart"
            - $ref: "#/components/schemas/SourceUrlUIPart"
            - $ref: "#/components/schemas/SourceDocumentUIPart"
            - $ref: "#/components/schemas/FileUIPart"
            - $ref: "#/components/schemas/DataUIPart"
            - $ref: "#/components/schemas/StepStartUIPart"
          title: Parts
        role:
          type: string
          enum:
          - system
          - user
          - assistant
          title: Role
      required:
      - id
      - parts
      - role
      title: UIMessage
    UserProfile:
      type: object
      properties:
        userInfo:
          $ref: "#/components/schemas/UserInfo"
        firstContribution:
          type: string
          format: date-time
        contributedRepositories:
          type: array
          items:
            $ref: "#/components/schemas/RepositoryInfo"
        reviewActivity:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestReviewInfo"
        openPullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestInfo"
      required:
      - contributedRepositories
      - firstContribution
      - userInfo
    UserTeams:
      type: object
      properties:
        id:
          type: integer
          format: int64
        login:
          type: string
        name:
          type: string
        url:
          type: string
        teams:
          type: array
          items:
            $ref: "#/components/schemas/TeamInfo"
          uniqueItems: true
      required:
      - id
      - login
      - name
      - teams
      - url
    PullRequestBaseInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        number:
          type: integer
          format: int32
        title:
          type: string
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        htmlUrl:
          type: string
      required:
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - number
      - state
      - title
    Contributor:
      type: object
      properties:
        id:
          type: integer
          format: int64
        login:
          type: string
        name:
          type: string
        avatarUrl:
          type: string
        htmlUrl:
          type: string
        contributions:
          type: integer
          format: int32
      required:
      - avatarUrl
      - htmlUrl
      - id
      - login
      - name
    Activity:
      type: object
      properties:
        pullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestWithBadPractices"
      required:
      - pullRequests
    UserInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        login:
          type: string
        email:
          type: string
        avatarUrl:
          type: string
        name:
          type: string
        htmlUrl:
          type: string
        leaguePoints:
          type: integer
          format: int32
      required:
      - avatarUrl
      - htmlUrl
      - id
      - login
      - name
    StepStartUIPart:
      type: object
      description: A step boundary part of a message.
      properties:
        type:
          type: string
          const: step-start
          default: step-start
          title: Type
      title: StepStartUIPart
    LeagueChange:
      type: object
      properties:
        login:
          type: string
        leaguePointsChange:
          type: integer
          format: int32
      required:
      - leaguePointsChange
      - login
    LabelInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        color:
          type: string
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
      required:
      - color
      - id
      - name
    ChatThreadSummary:
      type: object
      description: |-
        DTO for chat thread summary information.
         Used for listing threads without loading full message content.
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the thread
        title:
          type: string
          description: Thread title (may be null for untitled threads)
        createdAt:
          type: string
          format: date-time
          description: When the thread was created
      required:
      - createdAt
      - id
      - title
    BadPracticeFeedback:
      type: object
      properties:
        type:
          type: string
        explanation:
          type: string
      required:
      - explanation
      - type
    MetaData:
      type: object
      properties:
        teams:
          type: array
          items:
            $ref: "#/components/schemas/TeamInfo"
        scheduledDay:
          type: string
        scheduledTime:
          type: string
      required:
      - scheduledDay
      - scheduledTime
      - teams
    SourceUrlUIPart:
      type: object
      description: A URL source part of a message.
      properties:
        providerMetadata:
          anyOf:
          - type: object
          - type: "null"
          title: Providermetadata
        sourceId:
          type: string
          title: Sourceid
        title:
          anyOf:
          - type: string
          - type: "null"
          title: Title
        type:
          type: string
          const: source-url
          default: source-url
          title: Type
        url:
          type: string
          title: Url
      required:
      - sourceId
      - url
      title: SourceUrlUIPart
    DataUIPart:
      type: object
      description: A data part with dynamic type.
      properties:
        data:
          type: object
          title: Data
        id:
          anyOf:
          - type: string
          - type: "null"
          title: Id
        type:
          type: string
          pattern: ^data-.*
          title: Type
      required:
      - data
      - type
      title: DataUIPart
    TextUIPart:
      type: object
      description: A text part of a message.
      properties:
        state:
          anyOf:
          - type: string
            enum:
            - streaming
            - done
          - type: "null"
          title: State
        text:
          type: string
          title: Text
        type:
          type: string
          const: text
          default: text
          title: Type
      required:
      - text
      title: TextUIPart
    LeaderboardEntry:
      type: object
      properties:
        rank:
          type: integer
          format: int32
        score:
          type: integer
          format: int32
        user:
          $ref: "#/components/schemas/UserInfo"
        reviewedPullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestInfo"
        numberOfReviewedPRs:
          type: integer
          format: int32
        numberOfApprovals:
          type: integer
          format: int32
        numberOfChangeRequests:
          type: integer
          format: int32
        numberOfComments:
          type: integer
          format: int32
        numberOfUnknowns:
          type: integer
          format: int32
        numberOfCodeComments:
          type: integer
          format: int32
      required:
      - numberOfApprovals
      - numberOfChangeRequests
      - numberOfCodeComments
      - numberOfComments
      - numberOfReviewedPRs
      - numberOfUnknowns
      - rank
      - reviewedPullRequests
      - score
      - user
    ToolInputStreamingPart:
      type: object
      description: Tool part with input being streamed.
      properties:
        input:
          anyOf:
          - type: object
          - type: "null"
          title: Input
        providerExecuted:
          anyOf:
          - type: boolean
          - type: "null"
          title: Providerexecuted
        state:
          type: string
          const: input-streaming
          default: input-streaming
          title: State
        toolCallId:
          type: string
          title: Toolcallid
        type:
          type: string
          pattern: ^tool-.*
          title: Type
      required:
      - toolCallId
      - type
      title: ToolInputStreamingPart
    PullRequestInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        number:
          type: integer
          format: int32
        title:
          type: string
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        commentsCount:
          type: integer
          format: int32
        author:
          $ref: "#/components/schemas/UserInfo"
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        assignees:
          type: array
          items:
            $ref: "#/components/schemas/UserInfo"
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        additions:
          type: integer
          format: int32
        deletions:
          type: integer
          format: int32
        mergedAt:
          type: string
          format: date-time
        closedAt:
          type: string
          format: date-time
        htmlUrl:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
      - additions
      - commentsCount
      - deletions
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - number
      - state
      - title
    RepositoryInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        nameWithOwner:
          type: string
        description:
          type: string
        htmlUrl:
          type: string
      required:
      - htmlUrl
      - id
      - name
      - nameWithOwner
    UserSettings:
      type: object
      properties:
        receiveNotifications:
          type: boolean
    ChatThreadGroup:
      type: object
      description: |-
        DTO for grouped chat threads.
         Used for organizing threads by time periods (today, yesterday, etc.).
      properties:
        groupName:
          type: string
          description: "Group name (e.g., \"Today\", \"Yesterday\", \"Last 7 Days\"\
            , \"Last 30 Days\")"
        threads:
          type: array
          description: List of thread summaries in this group
          items:
            $ref: "#/components/schemas/ChatThreadSummary"
      required:
      - groupName
      - threads
    PullRequestWithBadPractices:
      type: object
      properties:
        id:
          type: integer
          format: int64
        number:
          type: integer
          format: int32
        title:
          type: string
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        additions:
          type: integer
          format: int32
        deletions:
          type: integer
          format: int32
        htmlUrl:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        badPracticeSummary:
          type: string
        badPractices:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestBadPractice"
        oldBadPractices:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestBadPractice"
      required:
      - additions
      - badPracticeSummary
      - badPractices
      - createdAt
      - deletions
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - labels
      - number
      - oldBadPractices
      - repository
      - state
      - title
      - updatedAt
    ToolOutputErrorPart:
      type: object
      description: Tool part with output error.
      properties:
        errorText:
          type: string
          title: Errortext
        input:
          type: object
          title: Input
        providerExecuted:
          anyOf:
          - type: boolean
          - type: "null"
          title: Providerexecuted
        state:
          type: string
          const: output-error
          default: output-error
          title: State
        toolCallId:
          type: string
          title: Toolcallid
        type:
          type: string
          pattern: ^tool-.*
          title: Type
      required:
      - errorText
      - input
      - toolCallId
      - type
      title: ToolOutputErrorPart
    TeamInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        color:
          type: string
        repositories:
          type: array
          items:
            $ref: "#/components/schemas/RepositoryInfo"
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        members:
          type: array
          items:
            $ref: "#/components/schemas/UserInfo"
        hidden:
          type: boolean
      required:
      - color
      - hidden
      - id
      - labels
      - members
      - name
      - repositories
    ToolOutputAvailablePart:
      type: object
      description: Tool part with output available.
      properties:
        input:
          type: object
          title: Input
        output:
          type: object
          title: Output
        providerExecuted:
          anyOf:
          - type: boolean
          - type: "null"
          title: Providerexecuted
        state:
          type: string
          const: output-available
          default: output-available
          title: State
        toolCallId:
          type: string
          title: Toolcallid
        type:
          type: string
          pattern: ^tool-.*
          title: Type
      required:
      - input
      - output
      - toolCallId
      - type
      title: ToolOutputAvailablePart
    PullRequestBadPractice:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        description:
          type: string
        state:
          type: string
          enum:
          - GOOD_PRACTICE
          - FIXED
          - CRITICAL_ISSUE
          - NORMAL_ISSUE
          - MINOR_ISSUE
          - WONT_FIX
          - WRONG
      required:
      - description
      - id
      - state
      - title
    FileUIPart:
      type: object
      description: A file part of a message.
      properties:
        filename:
          anyOf:
          - type: string
          - type: "null"
          title: Filename
        mediaType:
          type: string
          title: Mediatype
        type:
          type: string
          const: file
          default: file
          title: Type
        url:
          type: string
          title: Url
      required:
      - mediaType
      - url
      title: FileUIPart
    PullRequestReviewInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        isDismissed:
          type: boolean
        state:
          type: string
          enum:
          - COMMENTED
          - APPROVED
          - CHANGES_REQUESTED
          - UNKNOWN
        codeComments:
          type: integer
          format: int32
        author:
          $ref: "#/components/schemas/UserInfo"
        pullRequest:
          $ref: "#/components/schemas/PullRequestBaseInfo"
        htmlUrl:
          type: string
        score:
          type: integer
          format: int32
        submittedAt:
          type: string
          format: date-time
      required:
      - codeComments
      - htmlUrl
      - id
      - isDismissed
      - score
      - state
    SourceDocumentUIPart:
      type: object
      description: A document source part of a message.
      properties:
        filename:
          anyOf:
          - type: string
          - type: "null"
          title: Filename
        mediaType:
          type: string
          title: Mediatype
        providerMetadata:
          anyOf:
          - type: object
          - type: "null"
          title: Providermetadata
        sourceId:
          type: string
          title: Sourceid
        title:
          type: string
          title: Title
        type:
          type: string
          const: source-document
          default: source-document
          title: Type
      required:
      - mediaType
      - sourceId
      - title
      title: SourceDocumentUIPart
    ReasoningUIPart:
      type: object
      description: A reasoning part of a message.
      properties:
        providerMetadata:
          anyOf:
          - type: object
          - type: "null"
          title: Providermetadata
        state:
          anyOf:
          - type: string
            enum:
            - streaming
            - done
          - type: "null"
          title: State
        text:
          type: string
          title: Text
        type:
          type: string
          const: reasoning
          default: reasoning
          title: Type
      required:
      - text
      title: ReasoningUIPart
    ToolInputAvailablePart:
      type: object
      description: Tool part with input available.
      properties:
        input:
          type: object
          title: Input
        providerExecuted:
          anyOf:
          - type: boolean
          - type: "null"
          title: Providerexecuted
        state:
          type: string
          const: input-available
          default: input-available
          title: State
        toolCallId:
          type: string
          title: Toolcallid
        type:
          type: string
          pattern: ^tool-.*
          title: Type
      required:
      - input
      - toolCallId
      - type
      title: ToolInputAvailablePart
    ChatThreadDetail:
      type: object
      description: |-
        DTO for chat thread with full message content.
         Used for initializing useChat in the frontend.
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the thread
        title:
          type: string
          description: Thread title (may be null for untitled threads)
        createdAt:
          type: string
          format: date-time
          description: When the thread was created
        messages:
          type: array
          description: |-
            All messages in the conversation path (as JSON objects for useChat initialization)
             As exception, we do not use a DTO here since we included those intelligece-service models in the OpenAPI spec.
          items:
            $ref: "#/components/schemas/UIMessage"
        selectedLeafMessageId:
          type: string
          format: uuid
          description: ID of the currently selected leaf message (end of active conversation
            path)
