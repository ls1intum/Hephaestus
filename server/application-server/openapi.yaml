openapi: 3.1.0
info:
  contact:
    email: felixtj.dietrich@tum.de
    name: Felix T.J. Dietrich
  description: API documentation for the Hephaestus application server.
  license:
    name: MIT License
    url: https://github.com/ls1intum/Hephaestus/blob/develop/LICENSE
  title: Hephaestus API
  version: 0.12.3
servers:
- description: Default Server URL
  url: /
tags:
- description: Global contributor information
  name: Contributors
- description: |-
    Workspace registry endpoints that operate outside of a specific workspace slug.
     These routes stay under the classic /workspaces base path while slugged routes
     live in {@link WorkspaceController WorkspaceController} via <code>@WorkspaceScopedController</code>.
  name: workspace-registry-controller
- description: Team management within workspace
  name: Teams
- description: |-
    Controller for activity-related operations within a workspace context.
     All endpoints require workspace membership via {@link WorkspaceScopedController WorkspaceScopedController}.
  name: activity-controller
- description: User profile and activity data
  name: Profile
- description: |-
    Controller for managing workspace memberships and roles.
     Handles CRUD operations for workspace members and role assignments.
  name: workspace-membership-controller
- description: Contributor rankings and league statistics
  name: Leaderboard
- description: "User account management (settings, deletion)"
  name: Account
paths:
  /contributors:
    get:
      description: Returns all contributors across all workspaces
      operationId: listGlobalContributors
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Contributor"
          description: list of contributors sorted by contribution count
      summary: List global contributors
      tags:
      - Contributors
  /user:
    delete:
      description: Permanently delete the current user's account and all associated
        data (GDPR)
      operationId: deleteUser
      responses:
        "200":
          description: OK
      summary: Delete user account
      tags:
      - Account
  /user/settings:
    get:
      description: Get the current user's notification and research participation
        preferences
      operationId: getUserSettings
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserSettings"
          description: OK
      summary: Get user settings
      tags:
      - Account
    post:
      description: Update the current user's notification and research participation
        preferences
      operationId: updateUserSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserSettings"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserSettings"
          description: OK
      summary: Update user settings
      tags:
      - Account
  /workspaces:
    get:
      operationId: listWorkspaces
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WorkspaceListItem"
          description: Workspace list
      summary: List all workspaces
      tags:
      - workspace-registry
    post:
      operationId: createWorkspace
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateWorkspaceRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace created
      summary: Create a new workspace
      tags:
      - workspace-registry
  /workspaces/{workspaceSlug}:
    delete:
      operationId: purgeWorkspace
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "204":
          description: Workspace purged
      summary: Purge (soft delete) a workspace
      tags:
      - workspace
    get:
      operationId: getWorkspace
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace returned
      summary: Fetch a workspace by slug
      tags:
      - workspace
  /workspaces/{workspaceSlug}/activity/badpractice/{badPracticeId}/feedback:
    post:
      operationId: provideFeedbackForBadPractice
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: badPracticeId
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BadPracticeFeedback"
        required: true
      responses:
        "200":
          description: OK
      tags:
      - activity
  /workspaces/{workspaceSlug}/activity/badpractice/{badPracticeId}/resolve:
    post:
      operationId: resolveBadPractice
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: badPracticeId
        required: true
        schema:
          type: integer
          format: int64
      - in: query
        name: state
        required: true
        schema:
          type: string
          enum:
          - GOOD_PRACTICE
          - FIXED
          - CRITICAL_ISSUE
          - NORMAL_ISSUE
          - MINOR_ISSUE
          - WONT_FIX
          - WRONG
      responses:
        "200":
          description: OK
      tags:
      - activity
  /workspaces/{workspaceSlug}/activity/pullrequest/{pullRequestId}/badpractices:
    post:
      operationId: detectBadPracticesForPullRequest
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: pullRequestId
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
      tags:
      - activity
  /workspaces/{workspaceSlug}/activity/user/{login}/badpractices:
    post:
      operationId: detectBadPracticesByUser
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: login
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
      tags:
      - activity
  /workspaces/{workspaceSlug}/activity/{login}:
    get:
      operationId: getActivityByUser
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: login
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Activity"
          description: OK
      tags:
      - activity
  /workspaces/{workspaceSlug}/leaderboard:
    get:
      description: Creates a ranked contributor list for the specified time range
      operationId: getLeaderboard
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: start of the time range (inclusive)
        in: query
        name: after
        required: true
        schema:
          type: string
          format: date-time
      - description: end of the time range (inclusive)
        in: query
        name: before
        required: true
        schema:
          type: string
          format: date-time
      - description: Team filter to apply in INDIVIDUAL mode; ignored when mode is
          TEAM.
        in: query
        name: team
        required: true
        schema:
          type: string
      - description: Determines the ranking metric. In TEAM mode SCORE uses summed
          contribution scores; LEAGUE_POINTS uses total league points.
        in: query
        name: sort
        required: true
        schema:
          type: string
          enum:
          - SCORE
          - LEAGUE_POINTS
      - description: aggregation mode (INDIVIDUAL or TEAM)
        in: query
        name: mode
        required: true
        schema:
          type: string
          enum:
          - INDIVIDUAL
          - TEAM
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LeaderboardEntry"
          description: ranked list of leaderboard entries
      summary: Generate leaderboard
      tags:
      - Leaderboard
    post:
      description: Calculates league changes for a specific user
      operationId: getUserLeagueStats
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: the user's GitHub login
        in: query
        name: login
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LeaderboardEntry"
        description: the user's current leaderboard entry for comparison
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LeagueChange"
          description: league change statistics including promotion/demotion info
      summary: Get user league stats
      tags:
      - Leaderboard
  /workspaces/{workspaceSlug}/league/reset:
    put:
      operationId: resetAndRecalculateLeagues
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          description: OK
      summary: Reset and recalculate workspace leagues
      tags:
      - workspace
  /workspaces/{workspaceSlug}/members:
    get:
      description: |-
        List all members of the workspace with pagination.
         Accessible to all workspace members (MEMBER role and above).
      operationId: listMembers
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: Page number (0-indexed)
        in: query
        name: page
        required: false
        schema:
          type: integer
          format: int32
          default: 0
      - description: "Page size (default 50, max 100)"
        in: query
        name: size
        required: false
        schema:
          type: integer
          format: int32
          default: 50
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WorkspaceMembership"
          description: List of workspace memberships
      summary: List all members of the workspace with pagination.
      tags:
      - workspace-membership
  /workspaces/{workspaceSlug}/members/assign:
    post:
      description: |-
        Assign or update a role for a workspace member.
         OWNER can assign any role. ADMIN can assign ADMIN or MEMBER roles.
      operationId: assignRole
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AssignRoleRequest"
        description: Role assignment request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkspaceMembership"
          description: Updated membership
      summary: Assign or update a role for a workspace member.
      tags:
      - workspace-membership
  /workspaces/{workspaceSlug}/members/me:
    get:
      description: Get the current user's membership in this workspace.
      operationId: getCurrentUserMembership
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkspaceMembership"
          description: the current user's membership details
      summary: Get the current user's membership in this workspace.
      tags:
      - workspace-membership
  /workspaces/{workspaceSlug}/members/{userId}:
    delete:
      description: |-
        Revoke a user's membership (remove them from workspace).
         OWNER can remove anyone except themselves if they are the last OWNER.
         ADMIN can remove MEMBER and ADMIN roles.
      operationId: removeMember
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: User ID to remove
        in: path
        name: userId
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: 204 No Content on success
      summary: Revoke a user's membership (remove them from workspace).
      tags:
      - workspace-membership
    get:
      description: |-
        Get a specific member's details.
         Accessible to all workspace members.
      operationId: getMember
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: User ID
        in: path
        name: userId
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkspaceMembership"
          description: Workspace membership details
      summary: Get a specific member's details.
      tags:
      - workspace-membership
  /workspaces/{workspaceSlug}/mentor/chat:
    post:
      x-hephaestus:
        export: true
      operationId: mentorChat
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                greeting:
                  type: boolean
                  description: "If true, generate a greeting without user message"
                id:
                  type: string
                  format: uuid
                message:
                  type: object
                  properties:
                    id:
                      type: string
                      format: uuid
                    parts:
                      type: array
                      items:
                        anyOf:
                        - type: object
                          properties:
                            text:
                              type: string
                              maxLength: 2000
                              minLength: 1
                            type:
                              type: string
                              enum:
                              - text
                          required:
                          - text
                          - type
                        - type: object
                          properties:
                            mediaType:
                              type: string
                              enum:
                              - image/jpeg
                              - image/png
                            name:
                              type: string
                              maxLength: 100
                              minLength: 1
                            type:
                              type: string
                              enum:
                              - file
                            url:
                              type: string
                              format: uri
                          required:
                          - mediaType
                          - name
                          - type
                          - url
                    role:
                      type: string
                      enum:
                      - user
                  required:
                  - id
                  - parts
                  - role
                previousMessageId:
                  type: string
              required:
              - id
        description: Chat request body
        required: true
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                $ref: "#/components/schemas/StreamPart"
          description: Event stream of chat updates.
      summary: Handle mentor chat (set greeting=true for initial greeting without
        user message)
      tags:
      - mentor
      - exported
  /workspaces/{workspaceSlug}/mentor/documents:
    get:
      x-hephaestus:
        export: true
      operationId: listDocuments
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: true
        in: query
        name: page
        required: false
        schema:
          type:
          - integer
          - "null"
          default: 0
          minimum: 0
        style: form
      - explode: true
        in: query
        name: size
        required: false
        schema:
          type: integer
          default: 20
          maximum: 100
          minimum: 1
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DocumentSummary"
          description: Document summaries
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: List documents owned by the authenticated user
      tags:
      - documents
      - exported
    post:
      x-hephaestus:
        export: true
      operationId: createDocument
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateDocumentRequest"
        description: Create document
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          description: Created document
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing required context
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Create a new document
      tags:
      - documents
      - exported
  /workspaces/{workspaceSlug}/mentor/documents/{id}:
    delete:
      x-hephaestus:
        export: true
      operationId: deleteDocument
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      responses:
        "204":
          description: Deleted
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Delete a document and all versions
      tags:
      - documents
      - exported
    get:
      x-hephaestus:
        export: true
      operationId: getDocument
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          description: Document
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Get latest version of a document
      tags:
      - documents
      - exported
    put:
      x-hephaestus:
        export: true
      operationId: updateDocument
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateDocumentRequest"
        description: Update document
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          description: Updated document
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Update a document (creates new version)
      tags:
      - documents
      - exported
  /workspaces/{workspaceSlug}/mentor/documents/{id}/versions:
    delete:
      x-hephaestus:
        export: true
      operationId: deleteDocumentVersionsAfter
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      - explode: true
        in: query
        name: after
        required: true
        schema:
          type: string
          format: date-time
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Document"
          description: Deleted versions
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Delete versions after timestamp
      tags:
      - documents
      - exported
    get:
      x-hephaestus:
        export: true
      operationId: listVersions
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      - explode: true
        in: query
        name: page
        required: false
        schema:
          type:
          - integer
          - "null"
          default: 0
          minimum: 0
        style: form
      - explode: true
        in: query
        name: size
        required: false
        schema:
          type: integer
          default: 20
          maximum: 100
          minimum: 1
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Document"
          description: Document versions
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: List versions of a document
      tags:
      - documents
      - exported
  /workspaces/{workspaceSlug}/mentor/documents/{id}/versions/{versionNumber}:
    get:
      x-hephaestus:
        export: true
      operationId: getVersion
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      - explode: false
        in: path
        name: versionNumber
        required: true
        schema:
          type:
          - integer
          - "null"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          description: Document
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Get specific version
      tags:
      - documents
      - exported
  /workspaces/{workspaceSlug}/mentor/messages/{messageId}/vote:
    put:
      x-hephaestus:
        export: true
      operationId: voteMessage
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: messageId
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VoteMessageRequest"
        description: Vote request body
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatMessageVote"
          description: Vote recorded
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Message not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: Vote on a chat message (upvote/downvote) - idempotent upsert
      tags:
      - vote
      - exported
  /workspaces/{workspaceSlug}/mentor/threads/grouped:
    get:
      x-hephaestus:
        export: true
      operationId: getGroupedThreads
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatThreadGroup"
          description: Grouped chat threads
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing context
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
      summary: List chat threads grouped by time buckets
      tags:
      - mentor
      - exported
  /workspaces/{workspaceSlug}/mentor/threads/{threadId}:
    get:
      x-hephaestus:
        export: true
      operationId: getThread
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - explode: false
        in: path
        name: threadId
        required: true
        schema:
          type: string
          format: uuid
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ThreadDetail"
          description: Thread detail with messages
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Missing required context
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Thread not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal error
        "503":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Service temporarily unavailable
      summary: Get mentor chat thread detail
      tags:
      - mentor
      - exported
  /workspaces/{workspaceSlug}/notifications:
    patch:
      operationId: updateNotifications
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspaceNotificationsRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Update leaderboard notification preferences
      tags:
      - workspace
  /workspaces/{workspaceSlug}/profile/{login}:
    get:
      description: "Returns user profile with workspace-scoped activity data including\
        \ open PRs, review activity, and league points"
      operationId: getUserProfile
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: the user's GitHub login
        in: path
        name: login
        required: true
        schema:
          type: string
      - in: query
        name: after
        required: false
        schema:
          type: string
          format: date-time
      - in: query
        name: before
        required: false
        schema:
          type: string
          format: date-time
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfile"
          description: "user profile with open PRs, review activity, league points,\
            \ etc."
      summary: Get user profile
      tags:
      - Profile
  /workspaces/{workspaceSlug}/public-visibility:
    patch:
      operationId: updatePublicVisibility
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspacePublicVisibilityRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Toggle public visibility for a workspace
      tags:
      - workspace
  /workspaces/{workspaceSlug}/repositories:
    get:
      operationId: getRepositoriesToMonitor
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
          description: Repository list
      summary: List repositories monitored by a workspace
      tags:
      - workspace
  /workspaces/{workspaceSlug}/repositories/{owner}/{name}:
    delete:
      operationId: removeRepositoryToMonitor
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: owner
        required: true
        schema:
          type: string
      - in: path
        name: name
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
      summary: Remove a repository from a workspace monitor list
      tags:
      - workspace
    post:
      operationId: addRepositoryToMonitor
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: owner
        required: true
        schema:
          type: string
      - in: path
        name: name
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
      summary: Add a repository to a workspace monitor list
      tags:
      - workspace
  /workspaces/{workspaceSlug}/schedule:
    patch:
      operationId: updateSchedule
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspaceScheduleRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Update leaderboard schedule configuration
      tags:
      - workspace
  /workspaces/{workspaceSlug}/slack-credentials:
    patch:
      operationId: updateSlackCredentials
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspaceSlackCredentialsRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Update Slack credentials for a workspace
      tags:
      - workspace
  /workspaces/{workspaceSlug}/slug:
    patch:
      operationId: renameSlug
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RenameWorkspaceSlugRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace renamed
      summary: Rename workspace slug and create redirect
      tags:
      - workspace
  /workspaces/{workspaceSlug}/status:
    patch:
      operationId: updateStatus
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspaceStatusRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Update workspace lifecycle status
      tags:
      - workspace
  /workspaces/{workspaceSlug}/team:
    get:
      description: Returns all teams in the workspace organization
      operationId: getAllTeams
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TeamInfo"
          description: list of teams with their members and permissions
      summary: List teams
      tags:
      - Teams
  /workspaces/{workspaceSlug}/team/{id}/visibility:
    post:
      description: Show or hide a team in leaderboard calculations
      operationId: updateTeamVisibility
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - description: the team ID
        in: path
        name: id
        required: true
        schema:
          type: integer
          format: int64
      - description: "whether to hide the team (query parameter, fallback)"
        in: query
        name: hidden
        required: false
        schema:
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: boolean
        description: "whether to hide the team (body parameter, preferred)"
      responses:
        "200":
          description: "200 OK on success, 404 if team not found"
      summary: Update team visibility
      tags:
      - Teams
  /workspaces/{workspaceSlug}/team/{teamId}/repositories/{repositoryId}/visibility:
    post:
      operationId: updateRepositoryVisibility
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: teamId
        required: true
        schema:
          type: integer
          format: int64
      - in: path
        name: repositoryId
        required: true
        schema:
          type: integer
          format: int64
      - in: query
        name: hiddenFromContributions
        required: false
        schema:
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: boolean
      responses:
        "200":
          description: OK
      tags:
      - Teams
  /workspaces/{workspaceSlug}/teams/{teamId}/labels/{labelId}:
    delete:
      operationId: removeLabelFromTeam
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: teamId
        required: true
        schema:
          type: integer
          format: int64
      - in: path
        name: labelId
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
          description: OK
      summary: Remove a repository label from a team
      tags:
      - workspace
  /workspaces/{workspaceSlug}/teams/{teamId}/labels/{repositoryId}/{label}:
    post:
      operationId: addLabelToTeam
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      - in: path
        name: teamId
        required: true
        schema:
          type: integer
          format: int64
      - in: path
        name: repositoryId
        required: true
        schema:
          type: integer
          format: int64
      - in: path
        name: label
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamInfo"
          description: OK
      summary: Add a repository label to a team
      tags:
      - workspace
  /workspaces/{workspaceSlug}/token:
    patch:
      operationId: updateToken
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkspaceTokenRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: Workspace updated
      summary: Update workspace Personal Access Token
      tags:
      - workspace
  /workspaces/{workspaceSlug}/users:
    get:
      operationId: getUsersWithTeams
      parameters:
      - description: Workspace slug
        in: path
        name: workspaceSlug
        required: true
        schema:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserTeams"
          description: OK
      summary: List workspace users and the teams they belong to
      tags:
      - workspace
components:
  schemas:
    Activity:
      type: object
      properties:
        pullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestWithBadPractices"
      required:
      - pullRequests
    AssignRoleRequest:
      type: object
      description: DTO for assigning or updating a role for a workspace member.
      properties:
        role:
          type: string
          enum:
          - OWNER
          - ADMIN
          - MEMBER
        userId:
          type: integer
          format: int64
      required:
      - role
      - userId
    BadPracticeFeedback:
      type: object
      properties:
        explanation:
          type: string
        type:
          type: string
      required:
      - explanation
      - type
    ChatMessageVote:
      type: object
      x-hephaestus: a1
      properties:
        createdAt:
          type: string
          format: date-time
        isUpvoted:
          type: boolean
        messageId:
          type: string
          format: uuid
        updatedAt:
          type: string
          format: date-time
      required:
      - createdAt
      - isUpvoted
      - messageId
      - updatedAt
    ChatThreadGroup:
      type: object
      x-hephaestus: a1
      properties:
        groupName:
          type: string
        threads:
          type: array
          items:
            $ref: "#/components/schemas/ChatThreadSummary"
      required:
      - groupName
      - threads
    ChatThreadSummary:
      type: object
      x-hephaestus: a1
      properties:
        createdAt:
          type: string
          format: date-time
        id:
          type: string
          format: uuid
        title:
          type: string
      required:
      - id
      - title
    Contributor:
      type: object
      description: |-
        Data transfer object representing a GitHub contributor.
         Used to display contributor information on the public about page.
      properties:
        avatarUrl:
          type: string
        contributions:
          type: integer
          format: int32
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        login:
          type: string
        name:
          type: string
      required:
      - avatarUrl
      - htmlUrl
      - id
      - login
      - name
    CreateDocumentRequest:
      type: object
      x-hephaestus: a1
      properties:
        content:
          type: string
          minLength: 1
        kind:
          $ref: "#/components/schemas/DocumentKind"
        title:
          type: string
          maxLength: 255
          minLength: 1
      required:
      - content
      - kind
      - title
    CreateWorkspaceRequest:
      type: object
      description: DTO for creating a new workspace.
      properties:
        accountLogin:
          type: string
        accountType:
          type: string
          enum:
          - ORG
          - USER
        displayName:
          type: string
        ownerUserId:
          type: integer
          format: int64
        workspaceSlug:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      required:
      - accountLogin
      - accountType
      - displayName
      - ownerUserId
      - workspaceSlug
    Document:
      type: object
      x-hephaestus: a1
      properties:
        content:
          type: string
        createdAt:
          type: string
          format: date-time
        id:
          type: string
          format: uuid
        kind:
          $ref: "#/components/schemas/DocumentKind"
        title:
          type: string
        userId:
          type: integer
        versionNumber:
          type: integer
      required:
      - content
      - createdAt
      - id
      - kind
      - title
      - userId
      - versionNumber
    DocumentKind:
      type: string
      enum:
      - text
      x-hephaestus: a1
    DocumentSummary:
      type: object
      x-hephaestus: a1
      properties:
        createdAt:
          type: string
          format: date-time
        id:
          type: string
          format: uuid
        kind:
          $ref: "#/components/schemas/DocumentKind"
        title:
          type: string
        userId:
          type: integer
      required:
      - createdAt
      - id
      - kind
      - title
      - userId
    ErrorResponse:
      type: object
      x-hephaestus:
        export: true
      properties:
        error:
          type: string
          description: Human-readable error message
      required:
      - error
    LabelInfo:
      type: object
      properties:
        color:
          type: string
        id:
          type: integer
          format: int64
        name:
          type: string
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
      required:
      - color
      - id
      - name
    LeaderboardEntry:
      type: object
      properties:
        numberOfApprovals:
          type: integer
          format: int32
        numberOfChangeRequests:
          type: integer
          format: int32
        numberOfCodeComments:
          type: integer
          format: int32
        numberOfComments:
          type: integer
          format: int32
        numberOfReviewedPRs:
          type: integer
          format: int32
        numberOfUnknowns:
          type: integer
          format: int32
        rank:
          type: integer
          format: int32
        reviewedPullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestInfo"
        score:
          type: integer
          format: int32
        team:
          $ref: "#/components/schemas/TeamInfo"
        user:
          $ref: "#/components/schemas/UserInfo"
      required:
      - numberOfApprovals
      - numberOfChangeRequests
      - numberOfCodeComments
      - numberOfComments
      - numberOfReviewedPRs
      - numberOfUnknowns
      - rank
      - reviewedPullRequests
      - score
    LeagueChange:
      type: object
      properties:
        leaguePointsChange:
          type: integer
          format: int32
        login:
          type: string
      required:
      - leaguePointsChange
      - login
    PullRequestBadPractice:
      type: object
      properties:
        description:
          type: string
        id:
          type: integer
          format: int64
        state:
          type: string
          enum:
          - GOOD_PRACTICE
          - FIXED
          - CRITICAL_ISSUE
          - NORMAL_ISSUE
          - MINOR_ISSUE
          - WONT_FIX
          - WRONG
        title:
          type: string
      required:
      - description
      - id
      - state
      - title
    PullRequestBaseInfo:
      type: object
      properties:
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        number:
          type: integer
          format: int32
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        title:
          type: string
      required:
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - number
      - state
      - title
    PullRequestInfo:
      type: object
      properties:
        additions:
          type: integer
          format: int32
        assignees:
          type: array
          items:
            $ref: "#/components/schemas/UserInfo"
        author:
          $ref: "#/components/schemas/UserInfo"
        closedAt:
          type: string
          format: date-time
        commentsCount:
          type: integer
          format: int32
        createdAt:
          type: string
          format: date-time
        deletions:
          type: integer
          format: int32
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        mergedAt:
          type: string
          format: date-time
        number:
          type: integer
          format: int32
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        title:
          type: string
        updatedAt:
          type: string
          format: date-time
      required:
      - additions
      - commentsCount
      - deletions
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - number
      - state
      - title
    PullRequestReviewInfo:
      type: object
      properties:
        author:
          $ref: "#/components/schemas/UserInfo"
        codeComments:
          type: integer
          format: int32
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        isDismissed:
          type: boolean
        pullRequest:
          $ref: "#/components/schemas/PullRequestBaseInfo"
        score:
          type: integer
          format: int32
        state:
          type: string
          enum:
          - COMMENTED
          - APPROVED
          - CHANGES_REQUESTED
          - UNKNOWN
        submittedAt:
          type: string
          format: date-time
      required:
      - codeComments
      - htmlUrl
      - id
      - isDismissed
      - score
      - state
    PullRequestWithBadPractices:
      type: object
      properties:
        additions:
          type: integer
          format: int32
        badPracticeSummary:
          type: string
        badPractices:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestBadPractice"
        createdAt:
          type: string
          format: date-time
        deletions:
          type: integer
          format: int32
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        isDraft:
          type: boolean
        isMerged:
          type: boolean
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        number:
          type: integer
          format: int32
        oldBadPractices:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestBadPractice"
        repository:
          $ref: "#/components/schemas/RepositoryInfo"
        state:
          type: string
          enum:
          - OPEN
          - CLOSED
        title:
          type: string
        updatedAt:
          type: string
          format: date-time
      required:
      - additions
      - badPracticeSummary
      - badPractices
      - createdAt
      - deletions
      - htmlUrl
      - id
      - isDraft
      - isMerged
      - labels
      - number
      - oldBadPractices
      - repository
      - state
      - title
      - updatedAt
    RenameWorkspaceSlugRequest:
      type: object
      properties:
        newSlug:
          type: string
          pattern: "^[a-z0-9][a-z0-9-]{2,50}$"
      required:
      - newSlug
    RepositoryInfo:
      type: object
      properties:
        description:
          type: string
        hiddenFromContributions:
          type: boolean
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        name:
          type: string
        nameWithOwner:
          type: string
      required:
      - hiddenFromContributions
      - htmlUrl
      - id
      - name
      - nameWithOwner
    StreamPart:
      type: object
      additionalProperties: {}
      x-hephaestus: a1
      properties:
        type:
          type: string
      required:
      - type
    TeamInfo:
      type: object
      properties:
        description:
          type: string
        hidden:
          type: boolean
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        labels:
          type: array
          items:
            $ref: "#/components/schemas/LabelInfo"
        members:
          type: array
          items:
            $ref: "#/components/schemas/UserInfo"
        membershipCount:
          type: integer
          format: int32
        name:
          type: string
        organization:
          type: string
        parentId:
          type: integer
          format: int64
        privacy:
          type: string
          enum:
          - SECRET
          - CLOSED
        repoPermissionCount:
          type: integer
          format: int32
        repositories:
          type: array
          items:
            $ref: "#/components/schemas/RepositoryInfo"
      required:
      - hidden
      - id
      - labels
      - members
      - membershipCount
      - name
      - repoPermissionCount
      - repositories
    TeamSummary:
      type: object
      description: |-
        A lightweight DTO for team data that only contains basic information.
         This is used in contexts where full team details (repositories, labels, members) are not needed,
         avoiding expensive JOINs and lazy loading issues.
      properties:
        description:
          type: string
        hidden:
          type: boolean
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        name:
          type: string
        organization:
          type: string
        parentId:
          type: integer
          format: int64
        privacy:
          type: string
          enum:
          - SECRET
          - CLOSED
      required:
      - hidden
      - id
      - name
    ThreadDetail:
      type: object
      x-hephaestus: a1
      properties:
        id:
          type: string
          format: uuid
        messages:
          type: array
          items:
            type: object
            properties:
              createdAt:
                type: string
                format: date-time
              id:
                type: string
                format: uuid
              parentMessageId:
                type:
                - string
                - "null"
                format: uuid
              parts:
                type: array
                items:
                  type: object
                  additionalProperties: {}
                  properties:
                    type:
                      type: string
                  required:
                  - type
              role:
                type: string
                enum:
                - system
                - user
                - assistant
            required:
            - id
            - parts
            - role
        selectedLeafMessageId:
          type:
          - string
          - "null"
          format: uuid
        title:
          type:
          - string
          - "null"
      required:
      - id
      - messages
    UpdateWorkspaceNotificationsRequest:
      type: object
      description: DTO for updating workspace leaderboard notification preferences.
      properties:
        channelId:
          type: string
          pattern: "^[CGD][A-Z0-9]{8,}$"
        enabled:
          type: boolean
        team:
          type: string
    UpdateWorkspacePublicVisibilityRequest:
      type: object
      description: DTO for updating workspace public visibility.
      properties:
        isPubliclyViewable:
          type: boolean
      required:
      - isPubliclyViewable
    UpdateWorkspaceScheduleRequest:
      type: object
      description: |-
        DTO for updating workspace leaderboard schedule configuration.
         Day: 1=Monday, 2=Tuesday, ..., 7=Sunday
         Time: Format "HH:mm" (24-hour format)
      properties:
        day:
          type: integer
          format: int32
          maximum: 7
          minimum: 1
        time:
          type: string
          pattern: "^([01]\\d|2[0-3]):[0-5]\\d$"
      required:
      - day
      - time
    UpdateWorkspaceSlackCredentialsRequest:
      type: object
      description: |-
        Request DTO for updating Slack credentials (token and signing secret) for a workspace.
         These credentials are used for Slack API integration and webhook signature verification.
      properties:
        slackSigningSecret:
          type: string
        slackToken:
          type: string
      required:
      - slackSigningSecret
      - slackToken
    UpdateWorkspaceStatusRequest:
      type: object
      description: DTO for updating a workspace lifecycle status.
      properties:
        status:
          type: string
          enum:
          - ACTIVE
          - SUSPENDED
          - PURGED
      required:
      - status
    UpdateWorkspaceTokenRequest:
      type: object
      description: DTO for updating workspace Personal Access Token (PAT).
      properties:
        personalAccessToken:
          type: string
      required:
      - personalAccessToken
    UserInfo:
      type: object
      properties:
        avatarUrl:
          type: string
        email:
          type: string
        htmlUrl:
          type: string
        id:
          type: integer
          format: int64
        leaguePoints:
          type: integer
          format: int32
        login:
          type: string
        name:
          type: string
      required:
      - avatarUrl
      - htmlUrl
      - id
      - login
      - name
    UserProfile:
      type: object
      properties:
        contributedRepositories:
          type: array
          items:
            $ref: "#/components/schemas/RepositoryInfo"
        firstContribution:
          type: string
          format: date-time
        openPullRequests:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestInfo"
        reviewActivity:
          type: array
          items:
            $ref: "#/components/schemas/PullRequestReviewInfo"
        userInfo:
          $ref: "#/components/schemas/UserInfo"
      required:
      - contributedRepositories
      - firstContribution
      - userInfo
    UserSettings:
      type: object
      properties:
        participateInResearch:
          type: boolean
        receiveNotifications:
          type: boolean
      required:
      - participateInResearch
      - receiveNotifications
    UserTeams:
      type: object
      properties:
        email:
          type: string
        id:
          type: integer
          format: int64
        login:
          type: string
        name:
          type: string
        teams:
          type: array
          items:
            $ref: "#/components/schemas/TeamSummary"
          uniqueItems: true
        url:
          type: string
      required:
      - id
      - login
      - name
      - teams
      - url
    VoteMessageRequest:
      type: object
      x-hephaestus: a1
      properties:
        isUpvoted:
          type: boolean
      required:
      - isUpvoted
    Workspace:
      type: object
      properties:
        accountLogin:
          type: string
        createdAt:
          type: string
          format: date-time
        displayName:
          type: string
        gitProviderMode:
          type: string
        hasSlackSigningSecret:
          type: boolean
        hasSlackToken:
          type: boolean
        id:
          type: integer
          format: int64
        installationId:
          type: integer
          format: int64
        installationLinkedAt:
          type: string
          format: date-time
        isPubliclyViewable:
          type: boolean
        leaderboardNotificationChannelId:
          type: string
        leaderboardNotificationEnabled:
          type: boolean
        leaderboardNotificationTeam:
          type: string
        leaderboardScheduleDay:
          type: integer
          format: int32
        leaderboardScheduleTime:
          type: string
        status:
          type: string
        updatedAt:
          type: string
          format: date-time
        workspaceSlug:
          type: string
      required:
      - accountLogin
      - createdAt
      - displayName
      - hasSlackSigningSecret
      - hasSlackToken
      - id
      - isPubliclyViewable
      - status
      - updatedAt
      - workspaceSlug
    WorkspaceListItem:
      type: object
      properties:
        accountLogin:
          type: string
        createdAt:
          type: string
          format: date-time
        displayName:
          type: string
        id:
          type: integer
          format: int64
        status:
          type: string
        workspaceSlug:
          type: string
      required:
      - accountLogin
      - createdAt
      - displayName
      - id
      - status
      - workspaceSlug
    WorkspaceMembership:
      type: object
      description: DTO representing a workspace membership with user information.
      properties:
        createdAt:
          type: string
          format: date-time
        leaguePoints:
          type: integer
          format: int32
        role:
          type: string
          enum:
          - OWNER
          - ADMIN
          - MEMBER
        userId:
          type: integer
          format: int64
        userLogin:
          type: string
        userName:
          type: string
